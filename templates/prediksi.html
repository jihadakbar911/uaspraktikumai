<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analisis Model | Jaga Jaktim</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"/>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <!-- Memuat library Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
</head>
<body style="background-color: var(--light-gray-bg); color: var(--dark-text);">
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-custom sticky-top">
        <div class="container">
            <a class="navbar-brand fs-4" href="/"><i class="fas fa-recycle me-2"></i>Jaga Jaktim</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="/">Beranda</a></li>
                    <li class="nav-item"><a class="nav-link active" href="/prediksi">Analisis Model</a></li>
                    <li class="nav-item"><a class="nav-link" href="/edukasi">Edukasi</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Konten Utama -->
    <main class="container section-padding">
        <div class="text-center">
            <h1 class="section-title mb-3" style="color: var(--primary-green);">Hasil Analisis & Evaluasi Model AI</h1>
            <p class="section-subtitle col-lg-8 mx-auto" style="color: var(--light-text);">Berikut adalah hasil teknis dari kedua model kecerdasan buatan yang kami kembangkan untuk memastikan transparansi dan validitas penelitian.</p>
        </div>

        <!-- =================================================================== -->
        <!-- BAGIAN YANG DIPERBARUI SESUAI SKETSA ANDA -->
        <!-- =================================================================== -->
        <div class="row g-4 mt-5">
            <!-- Grafik Prediksi Utama -->
            <div class="col-12">
                <div class="custom-card no-rotate-effect" style="background-color: var(--card-bg); border: 1px solid var(--border-color);">
                    <h5 class="fw-bold mb-3" style="color: var(--primary-green);">Grafik Interaktif Prediksi Produksi Sampah</h5>
                    <p class="section-subtitle" style="color: var(--dark-text);">Grafik ini menampilkan data asli produksi sampah (hijau tua) dibandingkan dengan hasil prediksi model Prophet (hijau muda). Ini menunjukkan kemampuan model dalam menangkap tren kenaikan data historis dan memproyeksikannya ke masa depan.</p>
                    <hr style="border-color: var(--border-color);">
                    <div style="height: 450px;">
                        <canvas id="grafikPrediksiInteraktif"></canvas>
                    </div>
                </div>
            </div>
            
            <!-- Evaluasi Model -->
            <div class="col-md-6">
                <div class="custom-card h-100 no-rotate-effect" style="background-color: var(--card-bg); border: 1px solid var(--border-color);">
                    <h5 class="fw-bold" style="color: var(--primary-green);">Evaluasi Model Prophet (MAPE)</h5>
                    <hr style="border-color: var(--border-color);">
                    <div class="text-center evaluation-img-container">
                        <img src="{{ url_for('static', filename='grafik_evaluasi_prophet.png') }}" class="img-fluid evaluation-img" alt="Grafik Evaluasi Prophet">
                    </div>
                    <p class="section-subtitle mt-3" style="color: var(--dark-text);">Grafik ini menunjukkan tingkat kesalahan (MAPE) model Prophet. Hasilnya membuktikan model sangat akurat dengan tingkat akurasi sekitar 96%.</p>
                </div>
            </div>
            <div class="col-md-6">
                <div class="custom-card h-100 no-rotate-effect" style="background-color: var(--card-bg); border: 1px solid var(--border-color);">
                    <h5 class="fw-bold" style="color: var(--primary-green);">Evaluasi Model Klasifikasi (Confusion Matrix)</h5>
                    <hr style="border-color: var(--border-color);">
                    <div class="text-center evaluation-img-container">
                        <img src="{{ url_for('static', filename='grafik_confusion_matrix.png') }}" class="img-fluid evaluation-img" alt="Grafik Confusion Matrix KNN">
                    </div>
                    <p class="section-subtitle mt-3" style="color: var(--dark-text);">Grafik ini menunjukkan performa detail model KNN. Angka pada diagonal (kiri atas ke kanan bawah) adalah jumlah tebakan yang benar untuk setiap kategori.</p>
                </div>
            </div>
        </div>
        <!-- =================================================================== -->
    </main>

    <!-- Footer -->
    <footer class="text-center" style="background: var(--dark-green); color: #fff;">
        <p class="text-light my-auto" style="color: #fff !important;">&copy; 2025 Jaga Jaktim - Proyek UAS Kelompok 3</p>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Memanggil file JavaScript baru untuk grafik -->
    <script src="{{ url_for('static', filename='grafik_interaktif.js') }}"></script>
</body>
</html>
