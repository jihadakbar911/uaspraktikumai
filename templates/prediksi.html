<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hasil Prediksi Model</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"/>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>

    <nav class="navbar navbar-expand-lg navbar-dark bg-primary shadow-sm">
        <div class="container">
            <a class="navbar-brand fw-bold" href="/"><i class="fas fa-recycle"></i> Jaga Jaktim</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="/">Beranda</a></li>
                    <li class="nav-item"><a class="nav-link active" href="/prediksi">Prediksi Model</a></li>
                    <li class="nav-item"><a class="nav-link" href="/edukasi">Edukasi & Simulasi</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <main class="container my-5">
        <div class="text-center mb-5">
            <h1 class="display-5 fw-bold">Hasil Prediksi & Evaluasi Model AI</h1>
            <p class="lead text-muted">Berikut adalah hasil teknis dan evaluasi dari kedua model kecerdasan buatan yang kami kembangkan.</p>
        </div>

        <div class="row g-4">
            <!-- Card untuk Grafik Prediksi Utama -->
            <div class="col-12">
                <div class="card shadow-sm">
                    <div class="card-header fw-bold">Grafik Prediksi Produksi Sampah (Model Prophet)</div>
                    <div class="card-body">
                        <div class="text-center">
                            <img src="{{ url_for('static', filename='grafik_prediksi.png') }}" class="img-fluid rounded border" alt="Grafik Prediksi Sampah">
                        </div>
                        <hr>
                        <h6 class="fw-bold">Penjelasan Grafik:</h6>
                        <p class="card-text text-muted">Grafik ini memvisualisasikan hasil prediksi volume sampah di Jakarta Timur.<ul><li><strong>Titik Hitam (Data Asli):</strong> Menunjukkan data produksi sampah historis yang sebenarnya.</li><li><strong>Garis Biru (Forecast):</strong> Adalah garis tren prediksi yang dihitung oleh model AI, menunjukkan arah pergerakan di masa depan.</li><li><strong>Area Biru Muda (Uncertainty Interval):</strong> Merupakan rentang ketidakpastian. Model memprediksi bahwa hasil di masa depan kemungkinan besar akan berada di dalam area ini.</li></ul></p>
                    </div>
                </div>
            </div>

            <!-- Card untuk Evaluasi Prophet -->
            <div class="col-md-6">
                <div class="card shadow-sm h-100">
                    <div class="card-header fw-bold">Evaluasi Model Prophet (MAPE)</div>
                    <div class="card-body">
                        <div class="text-center">
                            <!-- PERBAIKAN: Menambahkan gambar tabel hasil evaluasi -->
                            <img src="{{ url_for('static', filename='grafik_evaluasi_prophet.png') }}" class="img-fluid rounded border" alt="Grafik Evaluasi Prophet">
                             <img src="{{ url_for('static', filename='mape.png') }}" class="img-fluid rounded border mb-3" alt="Tabel Hasil Evaluasi Prophet">
                        </div>
                        <hr>
                        <h6 class="fw-bold">Penjelasan Grafik:</h6>
                        <p class="card-text text-muted">Grafik dan tabel di atas adalah "nilai rapor" untuk model prediksi kami. Ini menunjukkan <strong>tingkat kesalahan (MAPE)</strong> saat model diuji dengan data masa lalu. Garis biru yang rendah dan stabil menandakan bahwa model kami sangat akurat, dengan tingkat akurasi sekitar 96% (berdasarkan nilai MAPE di bawah 4%).</p>
                    </div>
                </div>
            </div>

            <!-- Card untuk Evaluasi KNN -->
            <div class="col-md-6">
                <div class="card shadow-sm h-100">
                    <div class="card-header fw-bold">Evaluasi Model Klasifikasi (Confusion Matrix)</div>
                    <div class="card-body">
                        <div class="text-center">
                            <img src="{{ url_for('static', filename='grafik_confusion_matrix.png') }}" class="img-fluid rounded border" alt="Grafik Confusion Matrix KNN">
                        </div>
                        <hr>
                        <h6 class="fw-bold">Penjelasan Grafik:</h6>
                        <p class="card-text text-muted">Grafik ini adalah "nilai rapor" untuk model klasifikasi profil pengguna. Angka-angka pada <strong>diagonal dari kiri atas ke kanan bawah</strong> menunjukkan jumlah tebakan yang benar untuk setiap kategori ('Tinggi', 'Sedang', 'Rendah'). Semakin tinggi angka diagonal, semakin akurat modelnya dalam mengenali setiap profil.</p>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer class="bg-dark text-white text-center py-3 mt-5">
        <p class="mb-0">Proyek UAS - Kelompok 3 - 2025</p>
    </footer>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
